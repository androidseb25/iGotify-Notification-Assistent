services:
  gotify:
    container_name: gotify
    hostname: gotify
    image: gotify/server:latest
    restart: unless-stopped
    security_opt:
      - no-new-privileges:true
    networks:
      - net
      - default
    ports:
      - "1337:80"
    volumes:
      - ./data:/app/data
    environment:
      TZ:                       'Europe/Berlin'
      GOTIFY_DEFAULTUSER_PASS:  'test1234'

  igotify:
    container_name: igotify
    hostname: igotify
    image: ghcr.io/androidseb25/igotify-notification-assist:latest
    restart: unless-stopped
    security_opt:
      - no-new-privileges:true
    pull_policy: always
    networks:
      - net
      - default
    ports:
      - "1338:8080"
    environment:
      - IGOTIFY_CLIENT_TOKEN='Cyirsn0q.hYe3si'
      - GOTIFY_SERVER_URL="http://gotify"
    volumes:
      - ./api-data:/app/data

networks:
  net:

volumes:
  data:
  api-data:
