[![Donate with PayPal](https://raw.githubusercontent.com/androidseb25/iGotify-Notification-Assistent/main/paypal-donate-icon-7_20.png)](https://www.paypal.com/donate/?hosted_button_id=VFSL9ZECRD6D6)
![Stars](https://img.shields.io/github/stars/androidseb25/iGotify-Notification-Assistent?style=flat&logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEsWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgdGlmZjpJbWFnZUxlbmd0aD0iNDgiCiAgIHRpZmY6SW1hZ2VXaWR0aD0iNDgiCiAgIHRpZmY6UmVzb2x1dGlvblVuaXQ9IjIiCiAgIHRpZmY6WFJlc29sdXRpb249IjcyLzEiCiAgIHRpZmY6WVJlc29sdXRpb249IjcyLzEiCiAgIGV4aWY6UGl4ZWxYRGltZW5zaW9uPSI0OCIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjQ4IgogICBleGlmOkNvbG9yU3BhY2U9IjEiCiAgIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiCiAgIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDQtMTlUMTc6NDE6MDIrMDI6MDAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjMtMDQtMTlUMTc6NDE6MDIrMDI6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJwcm9kdWNlZCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWZmaW5pdHkgUGhvdG8gMiAyLjAuNCIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMy0wNC0xOVQxNzo0MTowMiswMjowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+0oDKYwAAAYFpQ0NQc1JHQiBJRUM2MTk2Ni0yLjEAACiRdZHfK4NRGMc/hiamKS5cuFgaV5tmanGjTEItaaYMN9u7X2o/3t53S8utcqsocePXBX8Bt8q1UkRKbrkmbliv591WW7Ln9Jznc77nPE/nPAcsobSS0Vs8kMnmteC037EUXnZYX2mhGzuDWCOKrk7MzwdoaF8PNJnxzm3WanzuX+uIxXUFmtqExxVVywvPCAfW86rJu8I9SioSEz4XdmlyQeF7U49W+M3kZIV/TNZCwUmwdAk7knUcrWMlpWWE5eU4M+mCUr2P+RJbPLu4ILFfvA+dINP4cTDLFJP4GGZMZh9uvAzJigb5nnL+HDnJVWRWKaKxRpIUeVyiFqR6XGJC9LiMNEWz/3/7qidGvJXqNj+0vhjGxwBYd6C0bRjfx4ZROoHmZ7jK1vJzRzD6Kfp2TXMegn0TLq5rWnQPLreg90mNaJGy1CxuSSTg/Qw6w9B9C+0rlZ5V9zl9hNCGfNUN7B/AoJy3r/4CMN5nzbh35xIAAAAJcEhZcwAACxMAAAsTAQCanBgAAAGYSURBVGiB7VjtjcMgDH2cbhx2KJ2syWSlO2Qf+sd3iji+7NhJT+JJVSKCsY39sCkwMTExMTFhhLRhSRvC1XaIQMYn+i1Wer6sFgZw270/rJSYOEBpE7KxxUKXVQTMdjyH016Qdv9Z+Xx3HlFTn0UEWrsftJVZRCA1FXpdnaoRGDnztcmsuhtpwxMDaaIZBbUIlI7OxtxFSy9rJ7IU2b/fwCNopOerMAbOSVV1gIx9MA3TRqTnWnPquyF8tfHI9MfShBYHXo1vZ6NqS5MDRLbT2oIKVufrpO+S+GInmsYDg6dQp7+xQtd4gHGMnuzEcNPHroij1VaI6DzuHAF2JSYFkSs3gJVrPCBsJUjRKpGtYCjfSzjSC8UDsmprWV7qOQhSwSMOXF3gABy4D/RuXmxDhHcEUQQ+6d+2T+GA+JIjdYCT/1GoYwiWEVidh2PUjFt/yl+IiNMhcLEojdzwJERmR6BD4GpFdf63z6m2IhIeSFIoFMZ+0qVrwM4RlVbkKAeGDc9BMnk0YmmuOtKGoFkLtNebmJj4R3gDsdt6T8W+vnEAAAAASUVORK5CYII=)

# iGotify

A small Gotify server notification assistent that decrypt the message and trigger a Push Notifications to iOS Devices via Apple's APNs with my service SecNtfy

SecNtfy will be available for public later this year.

Download Link to iGotify down below

&nbsp;
## ‚≠ê Features

* show received notifications with markdown
* decrypted the message with a public key that is generated from the iGotify device
* sending the decrypted message to SecNtfy and forwarded it to Apple's APN service, without saving the payload

&nbsp;
## üîß How to Install Gotify & iGotify-Notification-Assist

### üê≥ Docker `docker-compose.yaml`

### Installation

1. Create a file with the name `docker-compose.yaml` or clone this repo and go to step 3
2. Please use the latest and recommended version of docker and docker compose
3. Copy the code down below in the yaml file
4. change environment variables in the compose file
5. execute `docker compose up -d` to start the docker compose

&nbsp;
### Needed environment variables

* `GOTIFY_DEFAULTUSER_PASS` = the user password for the defaultuser
* `IGOTIFY_USER_TOKEN` = create a new Client under Gotify and copy the token and paste it as env variable for the docker container
* `GOTIFY_SERVER_URL` = the domain from the gotify server


```bash
version: '3.8'

services:
  gotify:
    container_name: gotify
    hostname: gotify
    image: gotify/server          # Uncommand correct server image
    # image: gotify/server-arm7
    # image: gotify/server-arm64
    restart: unless-stopped
    security_opt:
      - no-new-privileges:true
    networks:
      - net
    ports:
      - "8680:80"
    volumes:
      - data:/app/data
    environment:
      TZ:                       'Europe/Berlin'
      GOTIFY_DEFAULTUSER_PASS:  'my-very-strong-password'   # Change me!!!!!

  igotify:
    container_name: igotify
    hostname: igotify
    image: ghcr.io/androidseb25/igotify-notification-assist:latest
    restart: unless-stopped
    security_opt:
      - no-new-privileges:true
    pull_policy: always
    networks:
      - net
    ports:
      - "8681:8080"
    volumes:
      - api-data:/app/data
    environment:
      IGOTIFY_CLIENT_TOKEN:   '<CLIENT_TOKEN>'  # create a client in gotify an add here the client token
      GOTIFY_SERVER_URL:      'http://gotify'   # default container name from gotify server

networks:
  net:

volumes:
  data:
  api-data:
```
*Thank you The_Think3r for the compose file and @herrpandora*

&nbsp;
### (Optional) NGINX Proxy Manager

When someone have problem's with incoming notifications on the app, please try this options under Advance Settings for the setuped proxies

```bash
proxy_set_header   Host $http_host;
proxy_connect_timeout   1m;
proxy_send_timeout      1m;
proxy_read_timeout      1m;
```

Also **don't** check the boxes which say "HTTP/2 Support" and "HSTS enabled".

*Thank you to @TBT-TBT for sharing this notice*

&nbsp;
### Traefik Config

```bash
version: "3.8"

services:
  gotify:
    container_name: gotify
    hostname: gotify
    image: gotify/server          # Uncommand correct server image
    # image: gotify/server-arm7
    # image: gotify/server-arm64
    restart: unless-stopped
    security_opt:
      - no-new-privileges:true
    volumes:
      - data:/app/data
    environment:
      TZ:                       'Europe/Berlin'
      GOTIFY_DEFAULTUSER_PASS:  'my-very-strong-password'   # Change me!!!!!
      GOTIFY_REGISTRATION:       'false'
    labels:
      traefik.docker.network: proxy
      traefik.enable: "true"
      traefik.http.routers.gotify-secure.entrypoints: websecure
      traefik.http.routers.gotify-secure.middlewares: default@file
      traefik.http.routers.gotify-secure.rule: Host(`gotify.domain-name.de`)
      traefik.http.routers.gotify-secure.service: gotify
      traefik.http.routers.gotify-secure.tls: "true"
      traefik.http.routers.gotify-secure.tls.certresolver: http_resolver
      traefik.http.routers.gotify.entrypoints: web
      traefik.http.routers.gotify.rule: Host(`gotify.domain-name.de`)
      traefik.http.services.gotify.loadbalancer.server.port: "80"
    networks:
      default: null
      proxy: null
    volumes:
      - data:/app/data

  igotify-notification: # (iGotify-Notification-Assistent)
    container_name: igotify
    hostname: igotify
    image: ghcr.io/androidseb25/igotify-notification-assist:latest
    restart: always
    security_opt:
      - no-new-privileges:true
    pull_policy: always
    volumes:
      - api-data:/app/data
    environment:
      IGOTIFY_CLIENT_TOKEN:   '<CLIENT_TOKEN>'  # create a client in gotify an add here the client token
      GOTIFY_SERVER_URL:      'http://gotify'   # default container name from gotify server
    labels:
      traefik.docker.network: proxy
      traefik.enable: "true"
      traefik.http.routers.igotify-secure.entrypoints: websecure
      traefik.http.routers.igotify-secure.middlewares: default@file
      traefik.http.routers.igotify-secure.rule: Host(`igotify.domain-name.de`)
      traefik.http.routers.igotify-secure.service: igotify
      traefik.http.routers.igotify-secure.tls: "true"
      traefik.http.routers.igotify-secure.tls.certresolver: http_resolver
      traefik.http.routers.igotify.entrypoints: web
      traefik.http.routers.igotify.rule: Host(`igotify.domain-name.de`)
      traefik.http.services.igotify.loadbalancer.server.port: "8080"
    networks:
      default: null
      proxy: null

networks:
  default:
  proxy:
    external: true
volumes:
  data:
  api-data:
```
*Thank you to @majo1989 for sharing this config*

&nbsp;
## üîß Install iGotify app

Download from [AppStore](https://apps.apple.com/de/app/igotify/id6473452512?itsct=apps_box_badge&amp;itscg=30200)

[![Download on the App Store](https://tools.applemediaservices.com/api/badges/download-on-the-app-store/black/de-de?size=350&amp;releaseDate=1702425600)](https://apps.apple.com/de/app/igotify/id6473452512?itsct=apps_box_badge&amp;itscg=30200)

For Bugs or feedback please send me a PM in Discord under the name sebakaderangler or fill out the issue formular here on GitHub.

On the login screen you need to enter the Gotify Server URL and the URL from the Notification Assist, if you use the URL with a port please enter it, too! (Image 1)

After the checks for the URL are finished and correct you need to login with your login credentials. (Image 2)

&nbsp;

![](https://raw.githubusercontent.com/androidseb25/iGotify-Notification-Assistent/main/login_screen_1.png)
![](https://raw.githubusercontent.com/androidseb25/iGotify-Notification-Assistent/main/login_screen_2.png)

&nbsp;
 
And if everythink is ok, you're logged in üéâ

Now you receive background notifications when Gotify receives a message.

